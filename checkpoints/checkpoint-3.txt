CHECKPOINT 3: Create Tasks (Agent Behaviors)
Goal
Define reusable task templates for debate, voting, and moderation.
Tasks
3.1 Create Debate Task
Create backend/tasks/debate_task.py:
What to implement:

Import Agno Task class
Create DebateArgumentTask:

Input parameters:

topic: str (the debate topic)
stance: str ("for" or "against")
debate_history: list of previous exchanges (last 5-10 messages)
opponent_last_argument: str (what opponent just said)
personality_note: str (reminder of agent's style)


Instructions template:

"You are debating: {topic}"
"Your stance: {stance}"
"Recent debate context: {debate_history}"
"Opponent just argued: {opponent_last_argument}"
"Respond with a strong counter-argument in your {personality_note} style"
"Keep response to 100-150 words"
"Be specific and impactful"


Output: Streaming text response



3.2 Create Vote Task
Create backend/tasks/vote_task.py:
What to implement:

Create VoteEvaluationTask:

Input parameters:

current_debater_name: str
recent_exchanges: list (last 3-5 turns)
evaluation_criteria: str (what to evaluate)
voter_personality: str (how this voter judges)


Instructions template:

"You are evaluating {current_debater_name}'s debate performance"
"Recent exchanges: {recent_exchanges}"
"Judge based on: {evaluation_criteria}"
"Vote from YOUR perspective as a {voter_personality} personality"
"Respond ONLY in this exact JSON format:"
'{"vote": "in" or "out", "reasoning": "brief 1-2 sentence explanation"}'


Output: JSON with vote and reasoning
Parsing: Extract vote and reasoning from response



3.3 Create Moderate Task
Create backend/tasks/moderate_task.py:
What to implement:

Create ModerateSummaryTask:

Input parameters:

topic: str
full_debate_transcript: list of all messages
vote_history: list of all votes and switches
duration: int (total debate time)


Instructions template:

"Provide an objective summary of this debate on: {topic}"
"Full transcript: {full_debate_transcript}"
"Agent switches occurred: {vote_history}"
"Structure your summary:"
"1. Overview (2-3 sentences)"
"2. Key Proposition Arguments (bullet points)"
"3. Key Opposition Arguments (bullet points)"
"4. Notable Moments (switches, strong performances)"
"5. Conclusion (which side presented stronger case - be fair)"


Output: Streaming structured summary



3.4 Create Task Factory
Add to backend/tasks/__init__.py:
What to implement:

get_debate_task() function
get_vote_task() function
get_moderate_task() function

3.5 Test Tasks with Agents
Create backend/test_tasks.py:
What to test:

Debate Task:

Use Analytical agent with DebateArgumentTask
Provide sample topic and opponent argument
Verify response is relevant and in character


Vote Task:

Use Emotional agent with VoteEvaluationTask
Provide sample debate excerpt
Verify JSON response with vote and reasoning


Moderate Task:

Use Moderator agent with ModerateSummaryTask
Provide sample short debate transcript
Verify structured summary output



Success criteria:

All tasks execute without errors
Outputs match expected formats
Agent personalities come through